<h3>{$dialogue.name$}</h3>
<div class="speaker-container">
    <h4>Speaker</h4>
    <select name="dialogue-speaker" ng-model="dialogue.speaker"
        ng-options="char.id as char.name for char in getChars()">
        <option value="">
            Select Character
        </option>
    </select>
</div>
<div class="lines-container">
     <h4>Lines</h4>
     <span ng-repeat="line in dialogue.lines">
 	    <div class="line">
            Text : <input type="text" name="line-input" value={$line.text$} ng-model="line.text"/>
        </div>
	</span>
	<button class="btn btn-primary" ng-click="addLine(dialogue)">Add Line</button>
</div>
<div class="triggers-container">
    <h4>Triggers</h4>
    <span ng-repeat="trigger in dialogue.triggers">
        <div class="trigger">
            Function = 
            <input type="text" ng-model="trigger.func"/>
            <div class="arg-container">
                Arguments = 
                <span class="arg-container" ng-repeat="arg in trigger.args track by $index">
                    <div class = "arg-container">
                        <div ng-repeat="(key, val) in arg track by $index">
                            <input id="trigger-arg-key-{$$parent.$index$}" type="text" ng-model="key" ng-change="updateArgKey(arg, 'trigger-arg-key-{$$parent.$index$}', '{$key$}')"/> 
                                <span> = </span><input type="text" ng-model="arg[key]"/>
                        </div>
                    </div>
                </span>
                <button class="btn btn-primary" ng-click="addTriggerArg(trigger)">Add Arg</button>
            </div>
        </div>
    </span>
    <button class="btn btn-primary" ng-click="addTrigger(dialogue)">Add Trigger</button>
</div>
<div class="conditions-container">
    <h4>Conditions</h4>
    <span ng-repeat="condition in dialogue.conditions">
        <div class="condition">
            Function = 
            <input type="text" ng-model="condition.func"/>
            <div class="arg-container">
                Arguments = 
                <span ng-repeat="arg in condition.args">
                    <div class = "arg-container">
                        <div ng-repeat="(key, val) in arg track by $index">
                            <input id="condition-arg-key-{$$parent.$index$}" type="text" ng-model="key" ng-change="updateArgKey(arg, 'condition-arg-key-{$$parent.$index$}', '{$key$}')"/> 
                                <span> = </span><input type="text" ng-model="arg[key]"/>
                        </div>
                    </div>
                </span>
                <button class="btn btn-primary" ng-click="addConditionArg(condition)">Add Arg</button>
            </div>
        </div>
    </span>
    <button class="btn btn-primary" ng-click="addCondition(dialogue)">Add Condition</button>
</div>
